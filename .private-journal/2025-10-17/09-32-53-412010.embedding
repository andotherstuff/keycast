{
  "embedding": [
    0.013798155821859837,
    -0.09307707101106644,
    -0.012573054060339928,
    -0.02686738595366478,
    -0.05987878143787384,
    0.0004507004632614553,
    -0.025701623409986496,
    -0.012225165031850338,
    -0.020250210538506508,
    0.07330139726400375,
    -0.03588294982910156,
    -0.01399800181388855,
    0.053048573434352875,
    -0.054786309599876404,
    0.03880469501018524,
    0.016213836148381233,
    0.08989188820123672,
    -0.010344243608415127,
    -0.07235236465930939,
    -0.008522054180502892,
    -0.006561120040714741,
    -0.11270684003829956,
    0.012834915891289711,
    -0.006951071321964264,
    -0.023341026157140732,
    0.006640703417360783,
    -0.008790254592895508,
    0.0013192420592531562,
    -0.10391584783792496,
    -0.05325661972165108,
    0.01835588924586773,
    0.018466895446181297,
    -0.0036768035497516394,
    0.10960093885660172,
    -0.06619448959827423,
    0.008637992665171623,
    0.020925384014844894,
    -0.03987661004066467,
    -0.08169813454151154,
    -0.037480950355529785,
    0.049896471202373505,
    -0.06316637247800827,
    -0.11924654245376587,
    0.007283228449523449,
    -0.04917396977543831,
    -0.0387694425880909,
    -0.010145637206733227,
    -0.028044365346431732,
    -0.024200214073061943,
    0.01810247078537941,
    0.026651302352547646,
    -0.039581988006830215,
    -0.07724608480930328,
    0.08439484238624573,
    -0.03326740115880966,
    0.0215639416128397,
    -0.014914918690919876,
    -0.0474952794611454,
    0.04812734201550484,
    -0.06226212531328201,
    0.04503321647644043,
    0.0006134719587862492,
    -0.008662241511046886,
    0.0046895709820091724,
    0.02171323448419571,
    0.016946498304605484,
    0.08304488658905029,
    -0.018448593094944954,
    0.05358372628688812,
    0.042690448462963104,
    0.04969509690999985,
    -0.05139051005244255,
    -0.0373627170920372,
    -0.02251017466187477,
    -0.10363159328699112,
    0.04661531373858452,
    0.005039837211370468,
    -0.02848842740058899,
    0.014818169176578522,
    0.015181503258645535,
    0.024745866656303406,
    0.0453539676964283,
    -0.0859990045428276,
    -0.002220911905169487,
    -0.014796135015785694,
    -0.07193543016910553,
    -0.0061423988081514835,
    -0.04298019781708717,
    0.018167421221733093,
    0.021527964621782303,
    0.07352443784475327,
    0.11090212315320969,
    0.09670811146497726,
    -0.00006715645577060059,
    0.09036193042993546,
    0.01463702879846096,
    -0.0003478960134088993,
    -0.04217102378606796,
    -0.01120657380670309,
    -0.008728076703846455,
    0.031715087592601776,
    0.028231628239154816,
    -0.018136458471417427,
    -0.04636218026280403,
    0.000863799185026437,
    -0.010994849726557732,
    0.01775963045656681,
    -0.038384679704904556,
    -0.05585287883877754,
    -0.00449099438264966,
    0.008260953240096569,
    0.06823236495256424,
    -0.030491184443235397,
    -0.026732761412858963,
    0.02405887097120285,
    0.0522863008081913,
    -0.007318686228245497,
    -0.037206850945949554,
    0.06889255344867706,
    0.09075696766376495,
    0.005064415279775858,
    0.01943575032055378,
    0.027007823809981346,
    -0.01044553518295288,
    0.0011517875827848911,
    0.02039794810116291,
    -0.05814164876937866,
    8.825459506392097e-33,
    -0.03801254555583,
    0.03985513001680374,
    0.001795046147890389,
    -0.11045391857624054,
    0.04447615146636963,
    0.03842255845665932,
    0.023731818422675133,
    0.08647813647985458,
    -0.1310712695121765,
    -0.06154297664761543,
    -0.009955675341188908,
    0.03939433395862579,
    -0.03236932307481766,
    -0.0694764256477356,
    0.11265281587839127,
    -0.0009405534947291017,
    0.02774461731314659,
    0.07983537763357162,
    0.0434575118124485,
    0.00046536047011613846,
    0.00014132008072920144,
    -0.023504355922341347,
    0.000764847151003778,
    0.02177930809557438,
    0.06300243735313416,
    -0.09186051785945892,
    0.07151918113231659,
    -0.07723463326692581,
    0.041314639151096344,
    0.030832167714834213,
    -0.03531051427125931,
    -0.0014972900971770287,
    -0.0006776485242880881,
    0.0015692358138039708,
    -0.05071929097175598,
    0.011804388836026192,
    -0.07917007803916931,
    -0.05737634748220444,
    -0.040336791425943375,
    -0.09027637541294098,
    -0.04128850996494293,
    0.018931593745946884,
    0.00017803990340325981,
    -0.03439308702945709,
    0.009522972628474236,
    0.0715169906616211,
    -0.004472892265766859,
    0.014632205478847027,
    0.01646529883146286,
    0.0030074629466980696,
    0.04013132303953171,
    -0.0007005411898717284,
    -0.046204570680856705,
    0.017040245234966278,
    0.009298852644860744,
    0.01783479005098343,
    0.059361305087804794,
    -0.014624828472733498,
    0.04304646700620651,
    0.05635073408484459,
    -0.14751595258712769,
    -0.04042227938771248,
    0.015061764046549797,
    0.037470754235982895,
    0.029150476679205894,
    -0.01818988472223282,
    -0.057767294347286224,
    0.022816505283117294,
    -0.010969102382659912,
    -0.012669404037296772,
    -0.010903922840952873,
    -0.04331357404589653,
    0.07359667122364044,
    0.01896025612950325,
    0.014658496715128422,
    -0.025273704901337624,
    -0.047028884291648865,
    0.010951802134513855,
    0.00285240076482296,
    0.0022045501973479986,
    0.03264077380299568,
    0.07606737315654755,
    -0.049826983362436295,
    0.04240414872765541,
    -0.0854293704032898,
    0.019745739176869392,
    0.04163941368460655,
    -0.00032220128923654556,
    -0.08509653061628342,
    0.05777846276760101,
    0.00027916982071474195,
    -0.024661393836140633,
    0.08057118952274323,
    -0.05648921802639961,
    -0.03783099725842476,
    -7.182609907517977e-33,
    -0.052188027650117874,
    -0.11826080828905106,
    -0.0767434686422348,
    0.1706857681274414,
    0.07003304362297058,
    0.011963499709963799,
    -0.035347580909729004,
    -0.040492862462997437,
    -0.007083450444042683,
    -0.029330704361200333,
    -0.05892474949359894,
    -0.03557315841317177,
    0.14923010766506195,
    -0.01024495717138052,
    -0.004684687592089176,
    -0.01619238220155239,
    0.017436161637306213,
    -0.07532545924186707,
    0.017683355137705803,
    0.03314584121108055,
    0.002545526484027505,
    0.0430208295583725,
    -0.004856722429394722,
    0.07142393290996552,
    0.03627723827958107,
    0.029459597542881966,
    -0.08832434564828873,
    0.048319824039936066,
    -0.022332649677991867,
    -0.044593118131160736,
    -0.01914498396217823,
    0.021238645538687706,
    0.010486261919140816,
    -0.052767179906368256,
    -0.06594296544790268,
    -0.0034730425104498863,
    0.04265511780977249,
    0.04180280864238739,
    -0.05632781609892845,
    0.03383858874440193,
    0.044580332934856415,
    -0.026992231607437134,
    0.043699316680431366,
    -0.08828841149806976,
    0.004067173693329096,
    0.023448161780834198,
    -0.0009159647161141038,
    0.03209233656525612,
    0.030182110145688057,
    0.020192477852106094,
    -0.03295407071709633,
    0.010495134629309177,
    -0.04655994102358818,
    0.0175690446048975,
    0.049733299762010574,
    -0.009835862554609776,
    -0.039969731122255325,
    0.020184027031064034,
    -0.08152028918266296,
    -0.00897299125790596,
    0.04216828569769859,
    0.03737383335828781,
    0.07671351730823517,
    0.06418540328741074,
    0.0610048845410347,
    0.008615422993898392,
    0.07231329381465912,
    0.005773847922682762,
    -0.08560442179441452,
    -0.026888327673077583,
    -0.030126992613077164,
    -0.08246012777090073,
    0.05081312358379364,
    -0.016761068254709244,
    0.049917757511138916,
    0.02567034587264061,
    0.03623513877391815,
    -0.07259295135736465,
    -0.012957949191331863,
    -0.012567735277116299,
    -0.04673641175031662,
    0.03106013685464859,
    -0.03726814314723015,
    0.04485004395246506,
    0.07405786961317062,
    -0.03829876333475113,
    0.06859604269266129,
    -0.050162799656391144,
    0.0031638529617339373,
    0.05924133583903313,
    -0.09460114687681198,
    -0.0469280444085598,
    -0.11909082531929016,
    -0.04453848674893379,
    0.07389748841524124,
    -4.945219345131591e-8,
    0.05051756277680397,
    0.07746195793151855,
    -0.03773095831274986,
    -0.0047570751048624516,
    0.042748551815748215,
    -0.07238343358039856,
    0.01790476404130459,
    0.05772991478443146,
    0.060554955154657364,
    0.0353369303047657,
    0.09830740094184875,
    -0.09765464067459106,
    0.019292930141091347,
    0.02891700528562069,
    -0.048224300146102905,
    0.04974924772977829,
    0.01194645743817091,
    -0.09236227720975876,
    -0.05418176203966141,
    -0.02506023645401001,
    -0.025244981050491333,
    0.0682370737195015,
    -0.046530306339263916,
    -0.0052294363267719746,
    -0.0006057402351871133,
    0.07564046233892441,
    0.055455464869737625,
    0.05161638930439949,
    0.06746787577867508,
    0.017492450773715973,
    -0.022405698895454407,
    -0.10101869702339172,
    0.034934498369693756,
    0.0085951779037714,
    0.0022417008876800537,
    -0.00872014369815588,
    -0.00475910073146224,
    0.06856954097747803,
    0.06433326005935669,
    0.11470608413219452,
    0.016018608585000038,
    -0.034442249685525894,
    0.044885165989398956,
    0.01855776272714138,
    -0.06118233874440193,
    -0.022451478987932205,
    -0.0663595199584961,
    0.03835293650627136,
    0.005183051805943251,
    0.09021520614624023,
    -0.043144844472408295,
    -0.04142585024237633,
    -0.010323059745132923,
    0.08813405781984329,
    0.12970970571041107,
    0.011297004297375679,
    0.013894282281398773,
    -0.02388906478881836,
    0.09393975883722305,
    0.0461474284529686,
    0.10287731140851974,
    -0.09519538283348083,
    -0.10255561769008636,
    0.048551447689533234
  ],
  "text": "Just completed comprehensive database research for Keycast's multi-tenant SaaS needs. This is a critical decision point - they're currently using SQLite + Litestream on Cloud Run, handling encrypted Nostr keys and OAuth credentials.\n\nKey findings:\n- Current setup loses all data on redeploy (ephemeral containers) - already addressed with Litestream\n- Multi-tenancy implementation in progress (88 queries need tenant_id filtering)\n- Security model: AES-256-GCM encryption via GCP Cloud KMS, keys only in memory during signing\n- Single-instance limitation with Litestream (max-instances=1) \n\nDatabase options evaluated:\n1. PostgreSQL Cloud SQL: Best for scale but expensive ($9-50+/month), requires complete rewrite\n2. SQLite + Litestream: Current choice, extremely cheap ($0.50/month), proven in production\n3. CockroachDB: Good encryption + multi-tenancy but overkill for this use case\n4. Turso: Attractive alternative - SQLite-compatible, free tier, multi-instance support\n\nCritical insight: For multi-tenant SaaS with cryptographic keys, PostgreSQL RLS (Row-Level Security) is industry best practice in 2025, but Keycast already committed to SQLite architecture. The question becomes: stick with SQLite or migrate to PostgreSQL for proper multi-tenancy?\n\nTrade-offs:\n- SQLite + Litestream: Cheap, simple, single-writer bottleneck, adequate for early stage\n- PostgreSQL RLS: Better concurrency, native multi-tenancy, higher cost, requires full rewrite\n- Turso: Middle ground - SQLite-compatible but managed service (external dependency)\n\nEncryption layers matter: Application-level encryption (what Keycast does with KMS) provides strongest security even if database is compromised. This is correct for handling Nostr private keys.\n\nNext question for Rabble: Expected scale? If staying under 1000 concurrent users, Litestream is fine. If targeting 10k+ users, PostgreSQL migration makes sense.",
  "sections": [
    "Project Notes"
  ],
  "timestamp": 1760646773412,
  "path": "/Users/rabble/code/andotherstuff/keycast/.private-journal/2025-10-17/09-32-53-412010.md"
}